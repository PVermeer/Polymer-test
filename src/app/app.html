<router-service routes-input={{routes}}
                page={{page}}
                current-route={{currentRoute}}>
</router-service>

<firebase-service user={{user}}></firebase-service>

<app-drawer-layout fullbleed=""
                   narrow="{{narrow}}">

  <!-- Drawer content -->
  <app-drawer id="drawer"
              slot="drawer"
              swipe-open="[[narrow]]">

    <app-toolbar>Menu</app-toolbar>

    <iron-selector selected="[[page]]"
                   attr-for-selected="name"
                   class="drawer-list"
                   role="navigation">
      <a name="view1"
         href="[[rootPath]]view1">View One</a>
      <a name="view2"
         href="[[rootPath]]view2">View Two</a>
      <a name="view3"
         href="[[rootPath]]view3">View Three</a>
    </iron-selector>

  </app-drawer>

  <!-- Main content -->
  <app-header-layout has-scrolling-region="">

    <!-- Toolbar -->
    <app-header slot="header"
                condenses=""
                reveals=""
                effects="waterfall">
      <app-toolbar>
        <paper-icon-button icon="my-icons:menu"
                           drawer-toggle=""></paper-icon-button>
        <div main-title="">Zzapps App</div>

        <div class="controls">

          <dom-if if="[[!userLoggedIn]]">
            <template>
              <div id="logIn"
                   on-click="login">Log In</div>
            </template>
          </dom-if>

          <dom-if if="[[userLoggedIn]]">
            <template>

              <div>[[user.displayName]]</div>
              <paper-menu-button horizontal-align="right">
                <paper-icon-button icon="icons:more-vert"
                                   slot="dropdown-trigger"></paper-icon-button>
                <paper-listbox slot="dropdown-content">
                  <paper-item>
                    <iron-icon icon="icons:language"></iron-icon>
                    Taal wijzigen
                  </paper-item>
                  <paper-item>
                    <iron-icon icon="icons:close"></iron-icon>
                    Onbeschikbaar veiligheidsfiche
                  </paper-item>
                  <paper-item>
                    <iron-icon icon="icons:record-voice-over"></iron-icon>
                    Feedback leveren
                  </paper-item>
                  <paper-item on-click="logout">
                    <iron-icon icon="icons:power-settings-new"></iron-icon>
                    Uitloggen
                  </paper-item>
                </paper-listbox>
              </paper-menu-button>

            </template>
          </dom-if>
        </div>
      </app-toolbar>
    </app-header>

    <iron-pages selected="[[page]]"
                attr-for-selected="name"
                role="main">
      <app-view1 name="view1"></app-view1>
      <app-view2 name="view2"></app-view2>
      <app-view3 name="view3"></app-view3>
    </iron-pages>

  </app-header-layout>
</app-drawer-layout>
